"function"!==typeof window.DIL&&(window.DIL=function(b,g){var h=[],e,n;b!==Object(b)&&(b={});var l,k,C,y,w,t,u,F,x,N,O,D,B,G;l=b.partner;k=b.containerNSID;C=!!b.disableDestinationPublishingIframe;y=b.iframeAkamaiHTTPS;w=b.mappings;t=b.uuidCookie;u=!0===b.enableErrorReporting;F=b.visitorService;x=b.declaredId;N=!0===b.removeFinishedScriptsAndCallbacks;O=!0===b.delayAllUntilWindowLoad;D=!0===b.disableIDSyncs;B="undefined"===typeof b.secureDataCollection||!0===b.secureDataCollection;G=!0===b.useCORSOnly;
var P,Q,K,H,R,S,T,U;P=!0===b.disableScriptAttachment;Q=!0===b.disableDefaultRequest;K=b.afterResultForDefaultRequest;H=b.dpIframeSrc;R=!0===b.testCORS;S=!0===b.useJSONPOnly;T=b.visitorConstructor;U=!0===b.disableCORS;u&&DIL.errorModule.activate();var W=!0===window._dil_unit_tests;(e=g)&&h.push(e+"");if(!l||"string"!==typeof l)return e="DIL partner is invalid or not specified in initConfig",DIL.errorModule.handleError({name:"error",message:e,filename:"dil.js"}),Error(e);e="DIL containerNSID is invalid or not specified in initConfig, setting to default of 0";
if(k||"number"===typeof k)k=parseInt(k,10),!isNaN(k)&&0<=k&&(e="");e&&(k=0,h.push(e),e="");n=DIL.getDil(l,k);if(n instanceof DIL&&n.api.getPartner()===l&&n.api.getContainerNSID()===k)return n;if(this instanceof DIL)DIL.registerDil(this,l,k);else return new DIL(b,"DIL was not instantiated with the 'new' operator, returning a valid instance with partner \x3d "+l+" and containerNSID \x3d "+k);var z={IS_HTTPS:B||"https:"===document.location.protocol,POST_MESSAGE_ENABLED:!!window.postMessage,COOKIE_MAX_EXPIRATION_DATE:"Tue, 19 Jan 2038 03:14:07 UTC",
MILLIS_PER_DAY:864E5,DIL_COOKIE_NAME:"AAMC_"+encodeURIComponent(l)+"_"+k,FIRST_PARTY_SYNCS:"AMSYNCS",FIRST_PARTY_SYNCS_ON_PAGE:"AMSYNCSOP"},L={stuffed:{}},r={},p={firingQueue:[],fired:[],firing:!1,sent:[],errored:[],reservedKeys:{sids:!0,pdata:!0,logdata:!0,callback:!0,postCallbackFn:!0,useImageRequest:!0},callbackPrefix:"demdexRequestCallback",firstRequestHasFired:!1,useJSONP:!0,abortRequests:!1,num_of_jsonp_responses:0,num_of_jsonp_errors:0,num_of_cors_responses:0,num_of_cors_errors:0,corsErrorSources:[],
num_of_img_responses:0,num_of_img_errors:0,toRemove:[],removed:[],readyToRemove:!1,platformParams:{d_nsid:k+"",d_rtbd:"json",d_jsonv:DIL.jsonVersion+"",d_dst:"1"},nonModStatsParams:{d_rtbd:!0,d_dst:!0,d_cts:!0,d_rs:!0},modStatsParams:null,adms:{TIME_TO_CATCH_ALL_REQUESTS_RELEASE:2E3,calledBack:!1,mid:null,noVisitorAPI:!1,VisitorAPI:null,instance:null,releaseType:"no VisitorAPI",isOptedOut:!0,isOptedOutCallbackCalled:!1,admsProcessingStarted:!1,process:function(a){try{if(!this.admsProcessingStarted){this.admsProcessingStarted=
!0;var c=this,f,d,b,m;if("function"===typeof a&&"function"===typeof a.getInstance){if(F===Object(F)&&(f=F.namespace)&&"string"===typeof f)d=a.getInstance(f,{idSyncContainerID:k});else{this.releaseType="no namespace";this.releaseRequests();return}if(d===Object(d)&&d instanceof a&&"function"===typeof d.isAllowed&&"function"===typeof d.getMarketingCloudVisitorID&&"function"===typeof d.getCustomerIDs&&"function"===typeof d.isOptedOut){this.VisitorAPI=a;if(!d.isAllowed()){this.releaseType="VisitorAPI not allowed";
this.releaseRequests();return}this.instance=d;b=function(a){"VisitorAPI"!==c.releaseType&&(c.mid=a,c.releaseType="VisitorAPI",c.releaseRequests())};m=d.getMarketingCloudVisitorID(b);if("string"===typeof m&&m.length){b(m);return}setTimeout(function(){"VisitorAPI"!==c.releaseType&&(c.releaseType="timeout",c.releaseRequests())},this.getLoadTimeout());return}this.releaseType="invalid instance"}else this.noVisitorAPI=!0;this.releaseRequests()}}catch(s){this.releaseRequests()}},releaseRequests:function(){this.calledBack=
!0;p.registerRequest()},getMarketingCloudVisitorID:function(){return this.instance?this.instance.getMarketingCloudVisitorID():null},getMIDQueryString:function(){var a=v.isPopulatedString,c=this.getMarketingCloudVisitorID();if(!a(this.mid)||this.mid!==c)this.mid=c;return a(this.mid)?"d_mid\x3d"+this.mid+"\x26":""},getCustomerIDs:function(){return this.instance?this.instance.getCustomerIDs():null},getCustomerIDsQueryString:function(a){if(a===Object(a)){var c="",f=[],d=[],b,m;for(b in a)a.hasOwnProperty(b)&&
(d[0]=b,m=a[b],m===Object(m)&&(d[1]=m.id||"",d[2]=m.authState||0,f.push(d),d=[]));if(d=f.length)for(a=0;a<d;a++)c+="\x26d_cid_ic\x3d"+q.encodeAndBuildRequest(f[a],"%01");return c}return""},getIsOptedOut:function(){this.instance?this.instance.isOptedOut([this,this.isOptedOutCallback],this.VisitorAPI.OptOut.GLOBAL,!0):(this.isOptedOut=!1,this.isOptedOutCallbackCalled=!0)},isOptedOutCallback:function(a){this.isOptedOut=a;this.isOptedOutCallbackCalled=!0;p.registerRequest()},getLoadTimeout:function(){var a=
this.instance;if(a){if("function"===typeof a.getLoadTimeout)return a.getLoadTimeout();if("undefined"!==typeof a.loadTimeout)return a.loadTimeout}return this.TIME_TO_CATCH_ALL_REQUESTS_RELEASE}},declaredId:{declaredId:{init:null,request:null},declaredIdCombos:{},setDeclaredId:function(a,c){var f=v.isPopulatedString,d=encodeURIComponent;if(a===Object(a)&&f(c)){var b=a.dpid,m=a.dpuuid,s=null;if(f(b)&&f(m)){s=d(b)+"$"+d(m);if(!0===this.declaredIdCombos[s])return"setDeclaredId: combo exists for type '"+
c+"'";this.declaredIdCombos[s]=!0;this.declaredId[c]={dpid:b,dpuuid:m};return"setDeclaredId: succeeded for type '"+c+"'"}}return"setDeclaredId: failed for type '"+c+"'"},getDeclaredIdQueryString:function(){var a=this.declaredId.request,c=this.declaredId.init,f=encodeURIComponent,d="";null!==a?d="\x26d_dpid\x3d"+f(a.dpid)+"\x26d_dpuuid\x3d"+f(a.dpuuid):null!==c&&(d="\x26d_dpid\x3d"+f(c.dpid)+"\x26d_dpuuid\x3d"+f(c.dpuuid));return d}},registerRequest:function(a){var c=this.firingQueue;a===Object(a)&&
c.push(a);if(!this.firing&&c.length&&(!O||DIL.windowLoaded))if(this.adms.isOptedOutCallbackCalled||this.adms.getIsOptedOut(),this.adms.calledBack&&(!this.adms.isOptedOut&&this.adms.isOptedOutCallbackCalled)&&(this.adms.isOptedOutCallbackCalled=!1,a=c.shift(),a.src=a.src.replace(/demdex.net\/event\?d_nsid=/,"demdex.net/event?"+this.adms.getMIDQueryString()+"d_nsid\x3d"),v.isPopulatedString(a.corsPostData)&&(a.corsPostData=a.corsPostData.replace(/^d_nsid=/,this.adms.getMIDQueryString()+"d_nsid\x3d")),
E.fireRequest(a),!this.firstRequestHasFired&&("script"===a.tag||"cors"===a.tag)))this.firstRequestHasFired=!0},processVisitorAPI:function(){this.adms.process(T||window.Visitor)},requestRemoval:function(a){if(!N)return"removeFinishedScriptsAndCallbacks is not boolean true";var c=this.toRemove,f,d;a===Object(a)&&(f=a.script,d=a.callbackName,(f===Object(f)&&"SCRIPT"===f.nodeName||"no script created"===f)&&("string"===typeof d&&d.length)&&c.push(a));if(this.readyToRemove&&c.length){d=c.shift();f=d.script;
d=d.callbackName;"no script created"!==f?(a=f.src,f.parentNode.removeChild(f)):a=f;window[d]=null;try{delete window[d]}catch(b){}this.removed.push({scriptSrc:a,callbackName:d});DIL.variables.scriptsRemoved.push(a);DIL.variables.callbacksRemoved.push(d);return this.requestRemoval()}return"requestRemoval() processed"}};n=function(){var a="http://fast.",c="?d_nsid\x3d"+k+"#"+encodeURIComponent(document.location.href);if("string"===typeof H&&H.length)return H+c;z.IS_HTTPS&&(a=!0===y?"https://fast.":"https://");
return a+l+".demdex.net/dest5.html"+c};var A={THROTTLE_START:3E4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:"destination_publishing_iframe_"+l+"_"+k,url:n(),onPagePixels:[],iframeHost:null,getIframeHost:function(a){if("string"===typeof a){var c=a.split("/");if(3<=c.length)return c[0]+"//"+c[2];h.push("getIframeHost: url is malformed: "+a);return a}},iframe:null,iframeHasLoaded:!1,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],messageSendingInterval:z.POST_MESSAGE_ENABLED?15:
100,ibsDeleted:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,newIframeCreated:null,iframeIdChanged:!1,originalIframeHasLoadedAlready:null,attachIframe:function(){function a(){d=document.createElement("iframe");d.sandbox="allow-scripts allow-same-origin";d.title="Adobe ID Syncing iFrame";d.id=f.id;d.style.cssText="display: none; width: 0; height: 0;";d.src=f.url;f.newIframeCreated=!0;c();document.body.appendChild(d)}function c(){q.addListener(d,
"load",function(){d.className="aamIframeLoaded";f.iframeHasLoaded=!0;f.requestToProcess()})}var f=this,d=document.getElementById(this.id);d?"IFRAME"!==d.nodeName?(this.id+="_2",this.iframeIdChanged=!0,a()):(this.newIframeCreated=!1,"aamIframeLoaded"!==d.className?(this.originalIframeHasLoadedAlready=!1,c()):(this.iframeHasLoaded=this.originalIframeHasLoadedAlready=!0,this.iframe=d,this.requestToProcess())):a();this.iframe=d},requestToProcess:function(a,c){var f=this;a&&!v.isEmptyObject(a)&&this.jsonWaiting.push([a,
c]);if((this.receivedThirdPartyCookiesNotification||!z.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var d=this.jsonWaiting.shift();this.process(d[0],d[1]);this.requestToProcess()}this.iframeHasLoaded&&(this.messages.length&&!this.sendingMessages)&&(this.throttleTimerSet||(this.throttleTimerSet=!0,setTimeout(function(){f.messageSendingInterval=z.POST_MESSAGE_ENABLED?15:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},processSyncOnPage:function(a){var c,
f,d;if((c=a.ibs)&&c instanceof Array&&(f=c.length))for(a=0;a<f;a++)d=c[a],d.syncOnPage&&this.checkFirstPartyCookie(d,"","syncOnPage")},process:function(a,c){var f=encodeURIComponent,d,b,m,s,e,g;c===Object(c)&&(g=q.encodeAndBuildRequest(["",c.dpid||"",c.dpuuid||""],","));if((d=a.dests)&&d instanceof Array&&(b=d.length))for(m=0;m<b;m++)s=d[m],e=[f("dests"),f(s.id||""),f(s.y||""),f(s.c||"")],this.addMessage(e.join("|"));if((d=a.ibs)&&d instanceof Array&&(b=d.length))for(m=0;m<b;m++)s=d[m],e=[f("ibs"),
f(s.id||""),f(s.tag||""),q.encodeAndBuildRequest(s.url||[],","),f(s.ttl||""),"",g,s.fireURLSync?"true":"false"],s.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(e.join("|")):s.fireURLSync&&this.checkFirstPartyCookie(s,e.join("|")));if((d=a.dpcalls)&&d instanceof Array&&(b=d.length))for(m=0;m<b;m++)s=d[m],e=s.callback||{},e=[e.obj||"",e.fn||"",e.key||"",e.tag||"",e.url||""],e=[f("dpm"),f(s.id||""),f(s.tag||""),q.encodeAndBuildRequest(s.url||[],","),f(s.ttl||""),q.encodeAndBuildRequest(e,
","),g],this.addMessage(e.join("|"));this.jsonProcessed.push(a)},checkFirstPartyCookie:function(a,c,f){var d=(f="syncOnPage"===f?!0:!1)?z.FIRST_PARTY_SYNCS_ON_PAGE:z.FIRST_PARTY_SYNCS,b=this.getOnPageSyncData(d),m=!1,e=!1,g=Math.ceil((new Date).getTime()/z.MILLIS_PER_DAY);b?(b=b.split("*"),e=this.pruneSyncData(b,a.id,g),m=e.dataPresent,e=e.dataValid,(!m||!e)&&this.fireSync(f,a,c,b,d,g)):(b=[],this.fireSync(f,a,c,b,d,g))},getOnPageSyncData:function(a){var c=p.adms.instance;return c&&"function"===typeof c.idSyncGetOnPageSyncInfo?
c.idSyncGetOnPageSyncInfo():q.getDilCookieField(a)},pruneSyncData:function(a,c,f){var d=!1,b=!1,m,e,g;if(a instanceof Array)for(e=0;e<a.length;e++)m=a[e],g=parseInt(m.split("-")[1],10),m.match("^"+c+"-")?(d=!0,f<g?b=!0:(a.splice(e,1),e--)):f>=g&&(a.splice(e,1),e--);return{dataPresent:d,dataValid:b}},manageSyncsSize:function(a){if(a.join("*").length>this.MAX_SYNCS_LENGTH)for(a.sort(function(a,f){return parseInt(a.split("-")[1],10)-parseInt(f.split("-")[1],10)});a.join("*").length>this.MAX_SYNCS_LENGTH;)a.shift()},
fireSync:function(a,c,f,d,b,e){function g(a,c,d,f){return function(){h.onPagePixels[a]=null;var b=h.getOnPageSyncData(d),e=[];if(b){var b=b.split("*"),m,g,I;m=0;for(g=b.length;m<g;m++)I=b[m],I.match("^"+c.id+"-")||e.push(I)}h.setSyncTrackingData(e,c,d,f)}}var h=this;if(a){if("img"===c.tag){a=c.url;f=z.IS_HTTPS?"https:":"http:";var l,k,n;d=0;for(l=a.length;d<l;d++){k=a[d];n=/^\/\//.test(k);var p=new Image;q.addListener(p,"load",g(this.onPagePixels.length,c,b,e));p.src=(n?f:"")+k;this.onPagePixels.push(p)}}}else this.addMessage(f),
this.setSyncTrackingData(d,c,b,e)},addMessage:function(a){var c=encodeURIComponent,c=u?c("---destpub-debug---"):c("---destpub---");this.messages.push(c+a)},setSyncTrackingData:function(a,c,f,d){a.push(c.id+"-"+(d+Math.ceil(c.ttl/60/24)));this.manageSyncsSize(a);q.setDilCookieField(f,a.join("*"))},sendMessages:function(){var a=this,c;this.messages.length?(c=this.messages.shift(),DIL.xd.postMessage(c,this.url,this.iframe.contentWindow),this.messagesPosted.push(c),setTimeout(function(){a.sendMessages()},
this.messageSendingInterval)):this.sendingMessages=!1},receiveMessage:function(a){var c=/^---destpub-to-parent---/;"string"===typeof a&&c.test(a)&&(c=a.replace(c,"").split("|"),"canSetThirdPartyCookies"===c[0]&&(this.canSetThirdPartyCookies="true"===c[1]?!0:!1,this.receivedThirdPartyCookiesNotification=!0,this.requestToProcess()),this.messagesReceived.push(a))}},M={traits:function(a){v.isValidPdata(a)&&(r.sids instanceof Array||(r.sids=[]),q.extendArray(r.sids,a));return this},pixels:function(a){v.isValidPdata(a)&&
(r.pdata instanceof Array||(r.pdata=[]),q.extendArray(r.pdata,a));return this},logs:function(a){v.isValidLogdata(a)&&(r.logdata!==Object(r.logdata)&&(r.logdata={}),q.extendObject(r.logdata,a));return this},customQueryParams:function(a){v.isEmptyObject(a)||q.extendObject(r,a,p.reservedKeys);return this},signals:function(a,c){var f,d=a;if(!v.isEmptyObject(d)){if(c&&"string"===typeof c)for(f in d={},a)a.hasOwnProperty(f)&&(d[c+f]=a[f]);q.extendObject(r,d,p.reservedKeys)}return this},declaredId:function(a){p.declaredId.setDeclaredId(a,
"request");return this},result:function(a){"function"===typeof a&&(r.callback=a);return this},afterResult:function(a){"function"===typeof a&&(r.postCallbackFn=a);return this},useImageRequest:function(){r.useImageRequest=!0;return this},clearData:function(){r={};return this},submit:function(){E.submitRequest(r);r={};return this},getPartner:function(){return l},getContainerNSID:function(){return k},getEventLog:function(){return h},getState:function(){var a={},c={};q.extendObject(a,p,{callbackPrefix:!0,
useJSONP:!0,registerRequest:!0});q.extendObject(c,A,{attachIframe:!0,requestToProcess:!0,process:!0,sendMessages:!0});return{initConfig:b,pendingRequest:r,otherRequestInfo:a,destinationPublishingInfo:c}},idSync:function(a){if(D)return"Error: id syncs have been disabled";if(a!==Object(a)||"string"!==typeof a.dpid||!a.dpid.length)return"Error: config or config.dpid is empty";if("string"!==typeof a.url||!a.url.length)return"Error: config.url is empty";var c=a.url,f=a.minutesToLive,d=encodeURIComponent,
b,c=c.replace(/^https:/,"").replace(/^http:/,"");if("undefined"===typeof f)f=20160;else if(f=parseInt(f,10),isNaN(f)||0>=f)return"Error: config.minutesToLive needs to be a positive number";b=q.encodeAndBuildRequest(["",a.dpid,a.dpuuid||""],",");a=["ibs",d(a.dpid),"img",d(c),f,"",b];A.addMessage(a.join("|"));p.firstRequestHasFired&&A.requestToProcess();return"Successfully queued"},aamIdSync:function(a){if(D)return"Error: id syncs have been disabled";if(a!==Object(a)||"string"!==typeof a.dpuuid||!a.dpuuid.length)return"Error: config or config.dpuuid is empty";
a.url="//dpm.demdex.net/ibs:dpid\x3d"+a.dpid+"\x26dpuuid\x3d"+a.dpuuid;return this.idSync(a)},passData:function(a){if(v.isEmptyObject(a))return"Error: json is empty or not an object";A.ibsDeleted.push(a.ibs);delete a.ibs;E.defaultCallback(a);return a},getPlatformParams:function(){return p.platformParams},getEventCallConfigParams:function(){var a=p,c=a.modStatsParams,f=a.platformParams,d;if(!c){c={};for(d in f)f.hasOwnProperty(d)&&!a.nonModStatsParams[d]&&(c[d.replace(/^d_/,"")]=f[d]);a.modStatsParams=
c}return c}},E={corsMetadata:function(){var a="none",c=!0;"undefined"!==typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?a="XMLHttpRequest":(new Function("/*@cc_on return /^10/.test(@_jscript_version) @*/"))()?a="XMLHttpRequest":"undefined"!==typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(c=!1),0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")&&(c=!1));return{corsType:a,corsCookiesEnabled:c}}(),getCORSInstance:function(){return"none"===
this.corsMetadata.corsType?null:new window[this.corsMetadata.corsType]},submitRequest:function(a){p.registerRequest(E.createQueuedRequest(a));return!0},createQueuedRequest:function(a){var c=p,f,d=a.callback,b="img",e;if(!v.isEmptyObject(w)){var g,h,l;for(g in w)if(w.hasOwnProperty(g)&&(h=w[g],!(null==h||""===h)&&g in a&&!(h in a)&&!(h in p.reservedKeys)))l=a[g],null==l||""===l||(a[h]=l)}v.isValidPdata(a.sids)||(a.sids=[]);v.isValidPdata(a.pdata)||(a.pdata=[]);v.isValidLogdata(a.logdata)||(a.logdata=
{});a.logdataArray=q.convertObjectToKeyValuePairs(a.logdata,"\x3d",!0);a.logdataArray.push("_ts\x3d"+(new Date).getTime());"function"!==typeof d&&(d=this.defaultCallback);c.useJSONP=!0!==a.useImageRequest;c.useJSONP&&(b="script",f=c.callbackPrefix+"_"+k+"_"+(new Date).getTime());c=this.makeRequestSrcData(a,f);if((!S||G)&&(e=this.getCORSInstance()))b="cors";return{tag:b,src:c.src,corsSrc:c.corsSrc,internalCallbackName:f,callbackFn:d,postCallbackFn:a.postCallbackFn,useImageRequest:!!a.useImageRequest,
requestData:a,corsInstance:e,corsPostData:c.corsPostData}},defaultCallback:function(a,c){A.processSyncOnPage(a);var f,d,b,e,g,h,l,k,n;if((f=a.stuff)&&f instanceof Array&&(d=f.length))for(b=0;b<d;b++)if((e=f[b])&&e===Object(e)){g=e.cn;h=e.cv;l=e.ttl;if("undefined"===typeof l||""===l)l=Math.floor(q.getMaxCookieExpiresInMinutes()/60/24);k=e.dmn||"."+document.domain.replace(/^www\./,"");n=e.type;if(g&&(h||"number"===typeof h))"var"!==n&&(l=parseInt(l,10))&&!isNaN(l)&&q.setCookie(g,h,1440*l,"/",k,!1),
L.stuffed[g]=h}f=a.uuid;if(v.isPopulatedString(f)&&!v.isEmptyObject(t)){d=t.path;if("string"!==typeof d||!d.length)d="/";b=parseInt(t.days,10);isNaN(b)&&(b=100);q.setCookie(t.name||"aam_did",f,1440*b,d,t.domain||"."+document.domain.replace(/^www\./,""),!0===t.secure)}!C&&!p.abortRequests&&A.requestToProcess(a,c)},makeRequestSrcData:function(a,c){a.sids=v.removeEmptyArrayValues(a.sids||[]);a.pdata=v.removeEmptyArrayValues(a.pdata||[]);var f=p,d=f.platformParams,b=q.encodeAndBuildRequest(a.sids,","),
e=q.encodeAndBuildRequest(a.pdata,","),g=(a.logdataArray||[]).join("\x26");delete a.logdataArray;var h=z.IS_HTTPS?"https://":"http://",n=f.declaredId.getDeclaredIdQueryString(),t=f.adms.instance?f.adms.getCustomerIDsQueryString(f.adms.getCustomerIDs()):"",x;x=[];var u,r,w,y;for(u in a)if(!(u in f.reservedKeys)&&a.hasOwnProperty(u))if(r=a[u],u=encodeURIComponent(u),r instanceof Array){w=0;for(y=r.length;w<y;w++)x.push(u+"\x3d"+encodeURIComponent(r[w]))}else x.push(u+"\x3d"+encodeURIComponent(r));x=
x.length?"\x26"+x.join("\x26"):"";b="d_nsid\x3d"+d.d_nsid+n+t+(b.length?"\x26d_sid\x3d"+b:"")+(e.length?"\x26d_px\x3d"+e:"")+(g.length?"\x26d_ld\x3d"+encodeURIComponent(g):"");d="\x26d_rtbd\x3d"+d.d_rtbd+"\x26d_jsonv\x3d"+d.d_jsonv+"\x26d_dst\x3d"+d.d_dst;h=h+l+".demdex.net/event";e=f=h+"?"+b+(f.useJSONP?d+"\x26d_cb\x3d"+(c||""):"")+x;2048<f.length&&(f=f.substring(0,2048).substring(0,f.lastIndexOf("\x26")));return{corsSrc:h+"?"+(R?"testcors\x3d1\x26d_nsid\x3d"+k+"\x26":"")+"_ts\x3d"+(new Date).getTime(),
src:f,originalSrc:e,corsPostData:b+d+x,isDeclaredIdCall:""!==n}},fireRequest:function(a){if("img"===a.tag)this.fireImage(a);else{var c=p.declaredId,c=c.declaredId.request||c.declaredId.init||{},c={dpid:c.dpid||"",dpuuid:c.dpuuid||""};"script"===a.tag?this.fireScript(a,c):"cors"===a.tag&&this.fireCORS(a,c)}},fireImage:function(a){var c=p,f,d;c.abortRequests||(c.firing=!0,f=new Image(0,0),c.sent.push(a),f.onload=function(){c.firing=!1;c.fired.push(a);c.num_of_img_responses++;c.registerRequest()},d=
function(d){e="imgAbortOrErrorHandler received the event of type "+d.type;h.push(e);c.abortRequests=!0;c.firing=!1;c.errored.push(a);c.num_of_img_errors++;c.registerRequest()},f.addEventListener?(f.addEventListener("error",d,!1),f.addEventListener("abort",d,!1)):f.attachEvent&&(f.attachEvent("onerror",d),f.attachEvent("onabort",d)),f.src=a.src)},fireScript:function(a,c){var f=this,d=p,b,g,k=a.src,n=a.postCallbackFn,x="function"===typeof n,t=a.internalCallbackName;d.abortRequests||(d.firing=!0,window[t]=
function(f){try{f!==Object(f)&&(f={});D&&(A.ibsDeleted.push(f.ibs),delete f.ibs);var b=a.callbackFn;d.firing=!1;d.fired.push(a);d.num_of_jsonp_responses++;b(f,c);x&&n(f,c)}catch(k){k.message="DIL jsonp callback caught error with message "+k.message;e=k.message;h.push(e);k.filename=k.filename||"dil.js";k.partner=l;DIL.errorModule.handleError(k);try{b({error:k.name+"|"+k.message},c),x&&n({error:k.name+"|"+k.message},c)}catch(I){}}finally{d.requestRemoval({script:g,callbackName:t}),d.registerRequest()}},
!P&&!G?(g=document.createElement("script"),g.addEventListener&&g.addEventListener("error",function(c){d.requestRemoval({script:g,callbackName:t});e="jsonp script tag error listener received the event of type "+c.type+" with src "+k;f.handleScriptError(e,a)},!1),g.type="text/javascript",g.src=k,b=DIL.variables.scriptNodeList[0],b.parentNode.insertBefore(g,b)):(d.firing=!1,d.requestRemoval({script:"no script created",callbackName:t})),d.sent.push(a),d.declaredId.declaredId.request=null)},fireCORS:function(a,
c){var f=this,d=p,b=this.corsMetadata.corsType,g=a.corsSrc,k=a.corsInstance,n=a.corsPostData,x=a.postCallbackFn,t="function"===typeof x;if(!d.abortRequests&&!U){d.firing=!0;try{k.open("post",g,!0),"XMLHttpRequest"===b&&(k.withCredentials=!0,k.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),k.onreadystatechange=function(){if(4===this.readyState&&200===this.status)a:{var b;try{if(b=JSON.parse(this.responseText),b!==Object(b)){f.handleCORSError(a,c,"Response is not JSON");break a}}catch(g){f.handleCORSError(a,
c,"Error parsing response as JSON");break a}D&&(A.ibsDeleted.push(b.ibs),delete b.ibs);try{var k=a.callbackFn;d.firing=!1;d.fired.push(a);d.num_of_cors_responses++;k(b,c);t&&x(b,c)}catch(m){m.message="DIL handleCORSResponse caught error with message "+m.message;e=m.message;h.push(e);m.filename=m.filename||"dil.js";m.partner=l;DIL.errorModule.handleError(m);try{k({error:m.name+"|"+m.message},c),t&&x({error:m.name+"|"+m.message},c)}catch(n){}}finally{d.registerRequest()}}}),k.onerror=function(){f.handleCORSError(a,
c,"onerror")},k.ontimeout=function(){f.handleCORSError(a,c,"ontimeout")},k.send(n)}catch(u){this.handleCORSError(a,c,"try-catch")}d.sent.push(a);d.declaredId.declaredId.request=null}},handleCORSError:function(a,c,f){p.num_of_cors_errors++;p.corsErrorSources.push(f);"ontimeout"!==f&&!G&&(a.tag="script",this.fireScript(a,c))},handleScriptError:function(a,c){p.num_of_jsonp_errors++;this.handleRequestError(a,c)},handleRequestError:function(a,c){var f=p;h.push(a);f.abortRequests=!0;f.firing=!1;f.errored.push(c);
f.registerRequest()}},v={isValidPdata:function(a){return a instanceof Array&&this.removeEmptyArrayValues(a).length?!0:!1},isValidLogdata:function(a){return!this.isEmptyObject(a)},isEmptyObject:function(a){if(a!==Object(a))return!0;for(var c in a)if(a.hasOwnProperty(c))return!1;return!0},removeEmptyArrayValues:function(a){for(var c=0,f=a.length,d,b=[],c=0;c<f;c++)d=a[c],"undefined"!==typeof d&&(null!==d&&""!==d)&&b.push(d);return b},isPopulatedString:function(a){return"string"===typeof a&&a.length}},
q={addListener:function(){if(document.addEventListener)return function(a,c,f){a.addEventListener(c,function(a){"function"===typeof f&&f(a)},!1)};if(document.attachEvent)return function(a,c,f){a.attachEvent("on"+c,function(a){"function"===typeof f&&f(a)})}}(),convertObjectToKeyValuePairs:function(a,c,f){var d=[],b,e;c||(c="\x3d");for(b in a)a.hasOwnProperty(b)&&(e=a[b],"undefined"!==typeof e&&(null!==e&&""!==e)&&d.push(b+c+(f?encodeURIComponent(e):e)));return d},encodeAndBuildRequest:function(a,c){return this.map(a,
function(a){return encodeURIComponent(a)}).join(c)},map:function(a,c){if(Array.prototype.map)return a.map(c);if(void 0===a||null===a)throw new TypeError;var f=Object(a),d=f.length>>>0;if("function"!==typeof c)throw new TypeError;for(var b=Array(d),e=0;e<d;e++)e in f&&(b[e]=c.call(c,f[e],e,f));return b},filter:function(a,c){if(!Array.prototype.filter){if(void 0===a||null===a)throw new TypeError;var f=Object(a),d=f.length>>>0;if("function"!==typeof c)throw new TypeError;for(var b=[],e=0;e<d;e++)if(e in
f){var g=f[e];c.call(c,g,e,f)&&b.push(g)}return b}return a.filter(c)},getCookie:function(a){a+="\x3d";var c=document.cookie.split(";"),f,d,b;f=0;for(d=c.length;f<d;f++){for(b=c[f];" "===b.charAt(0);)b=b.substring(1,b.length);if(0===b.indexOf(a))return decodeURIComponent(b.substring(a.length,b.length))}return null},setCookie:function(a,c,b,d,e,g){var h=new Date;b&&(b*=6E4);document.cookie=a+"\x3d"+encodeURIComponent(c)+(b?";expires\x3d"+(new Date(h.getTime()+b)).toUTCString():"")+(d?";path\x3d"+d:
"")+(e?";domain\x3d"+e:"")+(g?";secure":"")},extendArray:function(a,c){return a instanceof Array&&c instanceof Array?(Array.prototype.push.apply(a,c),!0):!1},extendObject:function(a,c,b){var d;if(a===Object(a)&&c===Object(c)){for(d in c)if(c.hasOwnProperty(d)&&(v.isEmptyObject(b)||!(d in b)))a[d]=c[d];return!0}return!1},getMaxCookieExpiresInMinutes:function(){return((new Date(z.COOKIE_MAX_EXPIRATION_DATE)).getTime()-(new Date).getTime())/1E3/60},getCookieField:function(a,c){var b=this.getCookie(a),
d=decodeURIComponent;if("string"===typeof b){var b=b.split("|"),e,g;e=0;for(g=b.length-1;e<g;e++)if(d(b[e])===c)return d(b[e+1])}return null},getDilCookieField:function(a){return this.getCookieField(z.DIL_COOKIE_NAME,a)},setCookieField:function(a,c,b){var d=this.getCookie(a),e=!1,g=encodeURIComponent;c=g(c);b=g(b);if("string"===typeof d){var d=d.split("|"),h,g=0;for(h=d.length-1;g<h;g++)if(d[g]===c){d[g+1]=b;e=!0;break}e||(g=d.length,d[g]=c,d[g+1]=b)}else d=[c,b];this.setCookie(a,d.join("|"),this.getMaxCookieExpiresInMinutes(),
"/",this.getDomain(),!1)},setDilCookieField:function(a,c){return this.setCookieField(z.DIL_COOKIE_NAME,a,c)},getDomain:function(a){!a&&window.location&&(a=window.location.hostname);if(a)if(/^[0-9.]+$/.test(a))a="";else{var c=a.split("."),b=c.length-1,d=b-1;1<b&&(2>=c[b].length&&(2===c[b-1].length||0>",DOMAIN_2_CHAR_EXCEPTIONS,".indexOf(","+c[b]+",")))&&d--;if(0<d)for(a="";b>=d;)a=c[b]+(a?".":"")+a,b--}return a}};"error"===l&&0===k&&q.addListener(window,"load",function(){DIL.windowLoaded=!0});var V=
!1,J=function(){V||(V=!0,p.registerRequest(),X(),!C&&!p.abortRequests&&A.attachIframe(),p.readyToRemove=!0,p.requestRemoval())},X=function(){C||setTimeout(function(){!Q&&!p.firstRequestHasFired&&("function"===typeof K?M.afterResult(K).submit():M.submit())},DIL.constants.TIME_TO_DEFAULT_REQUEST)};B=document;"error"!==l&&(DIL.windowLoaded?J():"complete"!==B.readyState&&"loaded"!==B.readyState?q.addListener(window,"load",function(){DIL.windowLoaded=!0;J()}):(DIL.windowLoaded=!0,J()));if("error"!==l)try{DIL.xd.receiveMessage(function(a){A.receiveMessage(a.data)},
A.getIframeHost(A.url))}catch(Y){}p.declaredId.setDeclaredId(x,"init");p.processVisitorAPI();this.api=M;this.getStuffedVariable=function(a){var b=L.stuffed[a];!b&&"number"!==typeof b&&(b=q.getCookie(a),!b&&"number"!==typeof b&&(b=""));return b};this.validators=v;this.helpers=q;this.constants=z;this.log=h;W&&(this.pendingRequest=r,this.requestController=p,this.setDestinationPublishingUrl=n,this.destinationPublishing=A,this.requestProcs=E,this.variables=L,this.callWindowLoadFunctions=J)},function(){var b=
document,g;null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",g=function(){b.removeEventListener("DOMContentLoaded",g,!1);b.readyState="complete"},!1))}(),DIL.extendStaticPropertiesAndMethods=function(b){var g;if(b===Object(b))for(g in b)b.hasOwnProperty(g)&&(this[g]=b[g])},DIL.extendStaticPropertiesAndMethods({version:"6.9",jsonVersion:1,constants:{TIME_TO_DEFAULT_REQUEST:50},variables:{scriptNodeList:document.getElementsByTagName("script"),scriptsRemoved:[],
callbacksRemoved:[]},windowLoaded:!1,dils:{},isAddedPostWindowLoad:function(b){this.windowLoaded="function"===typeof b?!!b():"boolean"===typeof b?b:!0},create:function(b){try{return new DIL(b)}catch(g){throw Error("Error in attempt to create DIL instance with DIL.create(): "+g.message);}},registerDil:function(b,g,h){g=g+"$"+h;g in this.dils||(this.dils[g]=b)},getDil:function(b,g){var h;"string"!==typeof b&&(b="");g||(g=0);h=b+"$"+g;return h in this.dils?this.dils[h]:Error("The DIL instance with partner \x3d "+
b+" and containerNSID \x3d "+g+" was not found")},dexGetQSVars:function(b,g,h){g=this.getDil(g,h);return g instanceof this?g.getStuffedVariable(b):""},xd:{postMessage:function(b,g,h){var e=1;g&&(window.postMessage?h.postMessage(b,g.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):g&&(h.location=g.replace(/#.*$/,"")+"#"+ +new Date+e++ +"\x26"+b))},receiveMessage:function(b,g){var h;try{if(window.postMessage)if(b&&(h=function(e){if("string"===typeof g&&e.origin!==g||"[object Function]"===Object.prototype.toString.call(g)&&
!1===g(e.origin))return!1;b(e)}),window.addEventListener)window[b?"addEventListener":"removeEventListener"]("message",h,!1);else window[b?"attachEvent":"detachEvent"]("onmessage",h)}catch(e){}}}}),DIL.errorModule=function(){var b=DIL.create({partner:"error",containerNSID:0,disableDestinationPublishingIframe:!0}),g={harvestererror:14138,destpuberror:14139,dpmerror:14140,generalerror:14137,error:14137,noerrortypedefined:15021,evalerror:15016,rangeerror:15017,referenceerror:15018,typeerror:15019,urierror:15020},
h=!1;return{activate:function(){h=!0},handleError:function(e){if(!h)return"DIL error module has not been activated";e!==Object(e)&&(e={});var n=e.name?(e.name+"").toLowerCase():"",l=[];e={name:n,filename:e.filename?e.filename+"":"",partner:e.partner?e.partner+"":"no_partner",site:e.site?e.site+"":document.location.href,message:e.message?e.message+"":""};l.push(n in g?g[n]:g.noerrortypedefined);b.api.pixels(l).logs(e).useImageRequest().submit();return"DIL error report sent"},pixelMap:g}}(),DIL.tools=
{},DIL.modules={helpers:{handleModuleError:function(b,g,h){var e="";g=g||"Error caught in DIL module/submodule: ";b===Object(b)?e=g+(b.message||"err has no message"):(e=g+"err is not a valid object",b={});b.message=e;h instanceof DIL&&(b.partner=h.api.getPartner());DIL.errorModule.handleError(b);return this.errorMessage=e}}});
DIL.tools.getSearchReferrer=function(b,g){var h=DIL.getDil("error"),e=DIL.tools.decomposeURI(b||document.referrer),n="",l="",k={queryParam:"q"},n=h.helpers.filter([g===Object(g)?g:{},{hostPattern:/aol\./},{hostPattern:/ask\./},{hostPattern:/bing\./},{hostPattern:/google\./},{hostPattern:/yahoo\./,queryParam:"p"}],function(b){return!(!b.hasOwnProperty("hostPattern")||!e.hostname.match(b.hostPattern))}).shift();return!n?{valid:!1,name:"",keywords:""}:{valid:!0,name:e.hostname,keywords:(h.helpers.extendObject(k,
n),l=k.queryPattern?(n=(""+e.search).match(k.queryPattern))?n[1]:"":e.uriParams[k.queryParam],decodeURIComponent(l||"").replace(/\+|%20/g," "))}};
DIL.tools.decomposeURI=function(b){var g=DIL.getDil("error"),h=document.createElement("a");h.href=b||document.referrer;return{hash:h.hash,host:h.host.split(":").shift(),hostname:h.hostname,href:h.href,pathname:h.pathname.replace(/^\//,""),protocol:h.protocol,search:h.search,uriParams:function(b,h){g.helpers.map(h.split("\x26"),function(g){g=g.split("\x3d");b[g.shift()]=g.shift()});return b}({},h.search.replace(/^(\/|\?)?|\/$/g,""))}};
DIL.tools.getMetaTags=function(){var b={},g=document.getElementsByTagName("meta"),h,e,n,l,k;h=0;for(n=arguments.length;h<n;h++)if(l=arguments[h],null!==l)for(e=0;e<g.length;e++)if(k=g[e],k.name===l){b[l]=k.content;break}return b};
DIL.modules.siteCatalyst={dil:null,handle:DIL.modules.helpers.handleModuleError,init:function(b,g,h,e){try{var n=this,l={name:"DIL Site Catalyst Module Error"},k=function(b){l.message=b;DIL.errorModule.handleError(l);return b};this.options=e===Object(e)?e:{};this.dil=null;if(g instanceof DIL)this.dil=g;else return k("dilInstance is not a valid instance of DIL");l.partner=g.api.getPartner();if(b!==Object(b))return k("siteCatalystReportingSuite is not an object");window.AppMeasurement_Module_DIL=b.m_DIL=
function(b){var e="function"===typeof b.m_i?b.m_i("DIL"):this;if(e!==Object(e))return k("m is not an object");e.trackVars=n.constructTrackVars(h);e.d=0;e.s=b;e._t=function(){var b,e,g=","+this.trackVars+",",h=this.s,l,w=[];l=[];var y={},B=!1;if(h!==Object(h))return k("Error in m._t function: s is not an object");if(this.d){if("function"===typeof h.foreachVar)h.foreachVar(function(b,e){"undefined"!==typeof e&&(y[b]=e,B=!0)},this.trackVars);else{if(!(h.va_t instanceof Array))return k("Error in m._t function: s.va_t is not an array");
if(h.lightProfileID)(b=h.lightTrackVars)&&(b=","+b+","+h.vl_mr+",");else if(h.pe||h.linkType)b=h.linkTrackVars,h.pe&&(e=h.pe.substring(0,1).toUpperCase()+h.pe.substring(1),h[e]&&(b=h[e].trackVars)),b&&(b=","+b+","+h.vl_l+","+h.vl_l2+",");if(b){e=0;for(w=b.split(",");e<w.length;e++)0<=g.indexOf(","+w[e]+",")&&l.push(w[e]);l.length&&(g=","+l.join(",")+",")}l=0;for(e=h.va_t.length;l<e;l++)b=h.va_t[l],0<=g.indexOf(","+b+",")&&("undefined"!==typeof h[b]&&null!==h[b]&&""!==h[b])&&(y[b]=h[b],B=!0)}n.includeContextData(h,
y).store_populated&&(B=!0);B&&this.d.api.signals(y,"c_").submit()}}};b.loadModule("DIL");b.DIL.d=g;return l.message?l.message:"DIL.modules.siteCatalyst.init() completed with no errors"}catch(C){return this.handle(C,"DIL.modules.siteCatalyst.init() caught error with message ",this.dil)}},constructTrackVars:function(b){var g=[],h,e,n,l,k;if(b===Object(b)){h=b.names;if(h instanceof Array&&(n=h.length))for(e=0;e<n;e++)l=h[e],"string"===typeof l&&l.length&&g.push(l);b=b.iteratedNames;if(b instanceof Array&&
(n=b.length))for(e=0;e<n;e++)if(h=b[e],h===Object(h)&&(l=h.name,k=parseInt(h.maxIndex,10),"string"===typeof l&&l.length&&!isNaN(k)&&0<=k))for(h=0;h<=k;h++)g.push(l+h);if(g.length)return g.join(",")}return this.constructTrackVars({names:"pageName channel campaign products events pe pev1 pev2 pev3".split(" "),iteratedNames:[{name:"prop",maxIndex:75},{name:"eVar",maxIndex:250}]})},includeContextData:function(b,g){var h={},e=!1;if(b.contextData===Object(b.contextData)){var n=b.contextData,l=this.options.replaceContextDataPeriodsWith,
k=this.options.filterFromContextVariables,C={},y,w,t,u;if("string"!==typeof l||!l.length)l="_";if(k instanceof Array){y=0;for(w=k.length;y<w;y++)t=k[y],this.dil.validators.isPopulatedString(t)&&(C[t]=!0)}for(u in n)if(n.hasOwnProperty(u)&&!C[u]&&((k=n[u])||"number"===typeof k))u=("contextData."+u).replace(/\./g,l),g[u]=k,e=!0}h.store_populated=e;return h}};